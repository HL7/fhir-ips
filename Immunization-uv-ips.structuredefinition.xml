<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <meta>
    <lastUpdated value="2018-03-07T18:47:01.502+01:00" />
  </meta>
  <url value="http://hl7.org/fhir/ips/StructureDefinition/immunization-uv-ips" />
  <name value="Immunization-uv-ips" />
  <title value="International Patient Summary - Immunization" />
  <status value="draft" />
  <date value="2018-03-06" />
  <description value="This profile represents the constraints applied to the Immunization resource by the International Patient Summary (IPS) FHIR Implementation Guide. A record of an immunization is represented in the patient summary as an instance of an Immunization resource constrained by this profile." />
  <purpose value="This profile constrains the representation of a record of a vaccination of the patient, in the context of the international patient summary as specified by the IPS project of HL7 International." />
  <fhirVersion value="3.0.1" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="Immunization" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Immunization" />
  <derivation value="constraint" />
  <differential>
    <element id="Immunization.extension">
      <path value="Immunization.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="Immunization.extension:statementDetails">
      <path value="Immunization.extension" />
      <sliceName value="statementDetails" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.org/fhir/ips/StructureDefinition/statement-uv-ips" />
      </type>
    </element>
    <element id="Immunization.vaccineCode.coding">
      <path value="Immunization.vaccineCode.coding" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="system" />
        </discriminator>
        <description value="One slice per system of representation of vaccines. &#xD;&#xA;Supports vaccine classifications and medicinal products identifiers and classes.&#xD;&#xA;&#xD;&#xA;When the IDMP identifiers will be concretely available for usage this element will be used for conveying the Medicinal Product Identifier (MPID).&#xD;&#xA;For the time being, it could be optionally used for conveying jurisdictional or agreed cross jurisdictional product code." />
        <rules value="open" />
      </slicing>
    </element>
    <element id="Immunization.vaccineCode.coding:vaccineType">
      <path value="Immunization.vaccineCode.coding" />
      <sliceName value="vaccineType" />
      <min value="1" />
      <max value="1" />
    </element>
    <element id="Immunization.vaccineCode.coding:vaccineType.userSelected">
      <path value="Immunization.vaccineCode.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccineCode.coding:pharmaceuticalProduct-L1">
      <path value="Immunization.vaccineCode.coding" />
      <sliceName value="pharmaceuticalProduct-L1" />
      <short value="Pharmaceutical Product Identifier, Level 1" />
    </element>
    <element id="Immunization.vaccineCode.coding:pharmaceuticalProduct-L2">
      <path value="Immunization.vaccineCode.coding" />
      <sliceName value="pharmaceuticalProduct-L2" />
    </element>
    <element id="Immunization.vaccineCode.coding:pharmaceuticalProduct-L3">
      <path value="Immunization.vaccineCode.coding" />
      <sliceName value="pharmaceuticalProduct-L3" />
    </element>
    <element id="Immunization.vaccineCode.coding:pharmaceuticalProduct-L4">
      <path value="Immunization.vaccineCode.coding" />
      <sliceName value="pharmaceuticalProduct-L4" />
    </element>
    <element id="Immunization.vaccineCode.coding:medicinalProduct">
      <path value="Immunization.vaccineCode.coding" />
      <sliceName value="medicinalProduct" />
      <short value="Medicinal Product Identifier" />
      <definition value="IDMP Medicinal Product Identifier (MPID) - Uniquely identifies a Medicinal Product, reflecting (but not&#xD;&#xA;replacing) any other authorisation numbers allocated by a regulator.&#xD;&#xA;MPID implies one (set of) PhPID.&#xD;&#xA;The MPID shall use a common segment pattern related to a Medicinal Product, which&#xD;&#xA;when each segment is valued shall define a specific MPID concept. The pattern is:&#xD;&#xA;• a) Country code segment (ISO 3166-1 alpha-2 code elements);&#xD;&#xA;• b) Marketing Authorization Holder (Organization Identifier) code segment;&#xD;&#xA;• c) Medicinal Product code segment (Unique Medicinal Product Identifier).&#xD;&#xA;• Any change of the values related to these three code segments shall result in the&#xD;&#xA;assignment of a new MPID.&#xD;" />
    </element>
    <element id="Immunization.vaccineCode.coding:packagedProduct">
      <path value="Immunization.vaccineCode.coding" />
      <sliceName value="packagedProduct" />
    </element>
    <element id="Immunization.vaccineCode.coding:class">
      <path value="Immunization.vaccineCode.coding" />
      <sliceName value="class" />
    </element>
    <element id="Immunization.encounter">
      <path value="Immunization.encounter" />
      <max value="0" />
    </element>
    <element id="Immunization.reportOrigin">
      <path value="Immunization.reportOrigin" />
      <max value="0" />
    </element>
    <element id="Immunization.location">
      <path value="Immunization.location" />
      <max value="0" />
    </element>
    <element id="Immunization.manufacturer.reference">
      <path value="Immunization.manufacturer.reference" />
      <max value="0" />
    </element>
    <element id="Immunization.manufacturer.identifier">
      <path value="Immunization.manufacturer.identifier" />
      <max value="0" />
    </element>
    <element id="Immunization.expirationDate">
      <path value="Immunization.expirationDate" />
      <max value="0" />
    </element>
    <element id="Immunization.practitioner">
      <path value="Immunization.practitioner" />
      <max value="1" />
    </element>
    <element id="Immunization.practitioner.role">
      <path value="Immunization.practitioner.role" />
      <max value="0" />
    </element>
    <element id="Immunization.note">
      <path value="Immunization.note" />
      <max value="0" />
    </element>
    <element id="Immunization.note.author[x]">
      <path value="Immunization.note.author[x]" />
      <max value="0" />
    </element>
    <element id="Immunization.note.time">
      <path value="Immunization.note.time" />
      <max value="0" />
    </element>
    <element id="Immunization.explanation.reason">
      <path value="Immunization.explanation.reason" />
      <max value="0" />
    </element>
    <element id="Immunization.explanation.reasonNotGiven">
      <path value="Immunization.explanation.reasonNotGiven" />
      <max value="1" />
    </element>
    <element id="Immunization.reaction">
      <path value="Immunization.reaction" />
      <max value="1" />
    </element>
    <element id="Immunization.reaction.date">
      <path value="Immunization.reaction.date" />
      <max value="0" />
    </element>
    <element id="Immunization.reaction.detail.reference">
      <path value="Immunization.reaction.detail.reference" />
      <max value="0" />
    </element>
    <element id="Immunization.reaction.detail.identifier">
      <path value="Immunization.reaction.detail.identifier" />
      <max value="0" />
    </element>
    <element id="Immunization.reaction.reported">
      <path value="Immunization.reaction.reported" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol">
      <path value="Immunization.vaccinationProtocol" />
      <max value="1" />
    </element>
    <element id="Immunization.vaccinationProtocol.doseSequence">
      <path value="Immunization.vaccinationProtocol.doseSequence" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol.description">
      <path value="Immunization.vaccinationProtocol.description" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol.authority">
      <path value="Immunization.vaccinationProtocol.authority" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol.series">
      <path value="Immunization.vaccinationProtocol.series" />
      <max value="0" />
    </element>
    <element id="Immunization.vaccinationProtocol.doseStatusReason">
      <path value="Immunization.vaccinationProtocol.doseStatusReason" />
      <max value="0" />
    </element>
  </differential>
</StructureDefinition>