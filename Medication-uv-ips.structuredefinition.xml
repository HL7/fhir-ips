<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <meta>
    <lastUpdated value="2018-02-20T23:00:32.124+01:00" />
  </meta>
  <url value="http://hl7.org/fhir/ips/StructureDefinition/medication-uv-ips" />
  <version value="0.1" />
  <name value="medication-uv-ips" />
  <title value="International Patient Summary" />
  <status value="draft" />
  <experimental value="true" />
  <date value="2018-02-20T22:03:08.307+01:00" />
  <description value="This profile represents the constraints applied to the Medication resource by the International Patient Summary (IPS) FHIR Implementation Guide, based on FHIR STU3. A medication is described in the patient summary as an instance of a Medication resource constrained by this profile." />
  <purpose value="This profile constrains the representation of a medication, in the context of the international patient summary as specified by the IPS project of HL7 International." />
  <fhirVersion value="3.0.1" />
  <kind value="resource" />
  <abstract value="false" />
  <type value="Medication" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Medication" />
  <derivation value="constraint" />
  <differential>
    <element id="Medication.code.coding">
      <path value="Medication.code.coding" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="system" />
        </discriminator>
        <description value="One slice per system of representation of medications" />
        <rules value="open" />
      </slicing>
    </element>
    <element id="Medication.code.coding:mpid">
      <path value="Medication.code.coding" />
      <sliceName value="mpid" />
      <definition value="Medicinal Product Identifier (MPID) - Uniquely identifies a Medicinal Product, reflecting (but not&#xD;&#xA;replacing) any other authorisation numbers allocated by a regulator." />
      <max value="1" />
    </element>
    <element id="Medication.code.coding:mpid.userSelected">
      <path value="Medication.code.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Medication.code.coding:phpid">
      <path value="Medication.code.coding" />
      <sliceName value="phpid" />
      <definition value="Pharmaceutical Product Identifier (PhPID): Uniquely identifies medicinal product based on the&#xD;&#xA;generic composition, such as ingredients and route of administration, separate from any other&#xD;&#xA;details such as regulatory authorisation, organisation, packaging or naming. The PhPID can be&#xD;&#xA;specified at various levels of detail for a given Pharmaceutical Product." />
    </element>
    <element id="Medication.code.coding:phpid.userSelected">
      <path value="Medication.code.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Medication.code.coding:class">
      <path value="Medication.code.coding" />
      <sliceName value="class" />
      <definition value="ATC" />
      <max value="1" />
    </element>
    <element id="Medication.status">
      <path value="Medication.status" />
      <max value="0" />
    </element>
    <element id="Medication.isBrand">
      <path value="Medication.isBrand" />
      <max value="0" />
    </element>
    <element id="Medication.isOverTheCounter">
      <path value="Medication.isOverTheCounter" />
      <max value="0" />
    </element>
    <element id="Medication.manufacturer">
      <path value="Medication.manufacturer" />
      <max value="0" />
    </element>
    <element id="Medication.form.coding">
      <path value="Medication.form.coding" />
      <max value="1" />
    </element>
    <element id="Medication.form.coding.userSelected">
      <path value="Medication.form.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Medication.ingredient.item[x]:itemCodeableConcept">
      <path value="Medication.ingredient.itemCodeableConcept" />
      <sliceName value="itemCodeableConcept" />
      <comment value="The IDMP ISO 11238 standard addresses the identification and exchange of regulated information on substances. &#xD;&#xA;The Global Ingredient Archival System (GInAS)  will provide a common global identifier for all of the substances used in medicinal products, providing a definition of substances globally consistent with this standard.&#xD;&#xA;Those identifiers however are yet available for concrete usage, therefore in this version of the template, SNOMED CT has been chosen as reference terminology also for the active substances.&#xD;&#xA;This choice will be revised based on the availability and the maturity of GInAS." />
      <type>
        <code value="CodeableConcept" />
      </type>
    </element>
    <element id="Medication.ingredient.item[x]:itemCodeableConcept.coding">
      <path value="Medication.ingredient.itemCodeableConcept.coding" />
      <max value="1" />
    </element>
    <element id="Medication.ingredient.item[x]:itemCodeableConcept.coding.userSelected">
      <path value="Medication.ingredient.itemCodeableConcept.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Medication.ingredient.isActive">
      <path value="Medication.ingredient.isActive" />
      <max value="0" />
    </element>
    <element id="Medication.ingredient.amount.numerator.comparator">
      <path value="Medication.ingredient.amount.numerator.comparator" />
      <max value="0" />
    </element>
    <element id="Medication.ingredient.amount.numerator.unit">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Medication.ingredient.amount.numerator.unit" />
      <max value="0" />
    </element>
    <element id="Medication.ingredient.amount.numerator.system">
      <path value="Medication.ingredient.amount.numerator.system" />
      <max value="0" />
    </element>
    <element id="Medication.ingredient.amount.numerator.code">
      <path value="Medication.ingredient.amount.numerator.code" />
      <binding>
        <strength value="required" />
        <description value="value set based on UCUM" />
        <valueSetUri value="2.16.840.1.113883.11.22.28" />
      </binding>
    </element>
    <element id="Medication.ingredient.amount.denominator.comparator">
      <path value="Medication.ingredient.amount.denominator.comparator" />
      <max value="0" />
    </element>
    <element id="Medication.ingredient.amount.denominator.unit">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Medication.ingredient.amount.denominator.unit" />
      <max value="0" />
    </element>
    <element id="Medication.ingredient.amount.denominator.system">
      <path value="Medication.ingredient.amount.denominator.system" />
      <max value="0" />
    </element>
    <element id="Medication.ingredient.amount.denominator.code">
      <path value="Medication.ingredient.amount.denominator.code" />
      <binding>
        <strength value="required" />
        <valueSetUri value="2.16.840.1.113883.11.22.28" />
      </binding>
    </element>
    <element id="Medication.package.container.coding.userSelected">
      <path value="Medication.package.container.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Medication.package.content">
      <path value="Medication.package.content" />
      <max value="1" />
    </element>
    <element id="Medication.package.content.item[x]:itemCodeableConcept">
      <path value="Medication.package.content.itemCodeableConcept" />
      <sliceName value="itemCodeableConcept" />
      <type>
        <code value="CodeableConcept" />
      </type>
    </element>
    <element id="Medication.package.content.item[x]:itemCodeableConcept.coding">
      <path value="Medication.package.content.itemCodeableConcept.coding" />
      <min value="1" />
      <max value="1" />
    </element>
    <element id="Medication.package.content.item[x]:itemCodeableConcept.coding.userSelected">
      <path value="Medication.package.content.itemCodeableConcept.coding.userSelected" />
      <max value="0" />
    </element>
    <element id="Medication.package.content.amount.unit">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="Medication.package.content.amount.unit" />
      <max value="0" />
    </element>
    <element id="Medication.package.content.amount.system">
      <path value="Medication.package.content.amount.system" />
      <max value="0" />
    </element>
    <element id="Medication.package.content.amount.code">
      <path value="Medication.package.content.amount.code" />
      <binding>
        <strength value="required" />
        <description value="value set based on UCUM" />
        <valueSetUri value=" 2.16.840.1.113883.11.22.28" />
      </binding>
    </element>
    <element id="Medication.package.batch">
      <path value="Medication.package.batch" />
      <max value="0" />
    </element>
    <element id="Medication.image">
      <path value="Medication.image" />
      <max value="0" />
    </element>
  </differential>
</StructureDefinition>