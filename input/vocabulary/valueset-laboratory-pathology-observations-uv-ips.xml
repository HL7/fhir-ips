<?xml version="1.0" encoding="UTF-8"?>
<ValueSet xmlns="http://hl7.org/fhir" xmlns:f="http://hl7.org/fhir">
	<id value="laboratory-pathology-observations-uv-ips"/>
	<meta>
		<profile value="http://hl7.org/fhir/StructureDefinition/shareablevalueset"/>
	</meta>
    <url value="http://hl7.org/fhir/uv/ips/ValueSet/laboratory-pathology-observations-uv-ips"/>
    <version value="2020-04-30"/>
	<name value="LabPathResultsObservationUvIps"/>
	<title value="Results Observation Laboratory and Pathology - IPS"/>
	<status value="active"/>
	<experimental value="false"/>
	<publisher value="HL7 International"/>
	<contact>
		<name value="HL7 International"/>
		<telecom>
			<system value="phone"/>
			<value value="+1 734 677 7777"/>
		</telecom>
		<telecom>
			<system value="fax"/>
			<value value="+1 734 677 6622"/>
		</telecom>
		<telecom>
			<system value="email"/>
			<value value="info@hl7.org"/>
		</telecom>
	</contact>
	<description value="Value Set Definition: LOINC codes from the laboratory-observations and pathology-observations value sets."/>
	<immutable value="false"/>
	<copyright value="This artifact includes content from LOINCÂ®. LOINC codes are copyright Regenstrief Institute, Inc. and the Logical Observation Identifiers Names and Codes (LOINC) Committee. Terms &amp; Conditions in https://loinc.org/license/"/>
    <!-- compose.include.valueSet is not currently supported
    <compose>
		<include>
            <valueSet value="http://hl7.org/fhir/uv/ips/ValueSet/laboratory-observations-uv-ips"/>
        </include>
		<include>
            <valueSet value="http://hl7.org/fhir/uv/ips/ValueSet/pathology-observations-uv-ips"/>
        </include>
    </compose>
    -->
    <compose>
        <!-- <valueSet value="http://hl7.org/fhir/uv/ips/ValueSet/laboratory-observations-uv-ips"/> -->
        <include>
            <system value="http://loinc.org"/>
            <!-- regex not supported currently
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^((?!Panel).)*$"/>
            </filter>
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^((?!panel).)*$"/>
            </filter>
            -->
            <filter>
                <property value="STATUS"/>
                <op value="="/>
                <value value="ACTIVE"/>
            </filter>
            <filter>
                <property value="CLASSTYPE"/>
                <op value="="/>
                <value value="1"/>
            </filter>
            <filter>
                <property value="ORDER_OBS"/>
                <op value="="/>
                <value value="Observation"/>
            </filter>
        </include>
        <include>
            <system value="http://loinc.org"/>
            <!-- regex not supported currently
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^((?!Panel).)*$"/>
            </filter>
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^((?!panel).)*$"/>
            </filter>
            -->
            <filter>
                <property value="STATUS"/>
                <op value="="/>
                <value value="ACTIVE"/>
            </filter>
            <filter>
                <property value="CLASSTYPE"/>
                <op value="="/>
                <value value="1"/>
            </filter>
            <filter>
                <property value="ORDER_OBS"/>
                <op value="="/>
                <value value="Both"/>
            </filter>
        </include>
        <exclude>
            <filter>
                <property value="CLASS"/>
                <op value="regex"/>
                <value value="^(?!PATH\.PROTOCOLS.*$).*"/>
            </filter>
        </exclude>
        <exclude>
            <filter>
                <property value="CLASS"/>
                <op value="regex"/>
                <value value="^(?!NR STATS.*$).*"/>
            </filter>
            </exclude>
        <exclude>
            <filter>
                <property value="CLASS"/>
                <op value="regex"/>
                <value value="^(?!H&amp;P\.HX.*$).*"/>
            </filter>
        </exclude>
        <exclude>
            <filter>
                <property value="CLASS"/>
                <op value="regex"/>
                <value value="^(?!H&amp;P\.HX\.LAB.*$).*"/>
            </filter>
        </exclude>
        <exclude>
            <filter>
                <property value="CLASS"/>
                <op value="regex"/>
                <value value="^(?!CHALSKIN.*$).*"/>
            </filter>
        </exclude>
        <!-- <valueSet value="http://hl7.org/fhir/uv/ips/ValueSet/pathology-observations-uv-ips"/> -->
        <include>
            <system value="http://loinc.org"/>
            <!-- regex not supported currently
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^((?!Panel).)*$"/>
            </filter>
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^((?!panel).)*$"/>
            </filter>
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^(?!Can pronounce.*$).*"/>
            </filter -->
            <filter>
                <property value="STATUS"/>
                <op value="="/>
                <value value="ACTIVE"/>
            </filter>
            <filter>
                <property value="CLASSTYPE"/>
                <op value="="/>
                <value value="1"/>
            </filter>
            <filter>
                <property value="ORDER_OBS"/>
                <op value="="/>
                <value value="Observation"/>
            </filter>
            <filter>
                <property value="CLASS"/>
                <op value="regex"/>
                <value value="CYTO|HEM/BC|HL7\.CYTOGEN|HL7\.GENETICS|PATH|^(?!MOLPATH.*$).*"/>
            </filter>
        </include>
        <include>
            <system value="http://loinc.org"/>
            <!-- regex not supported currently
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^((?!Panel).)*$"/>
            </filter>
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^((?!panel).)*$"/>
            </filter>
            <filter>
                <property value="COMPONENT"/>
                <op value="regex"/>
                <value value="^(?!Can pronounce.*$).*"/>
            </filter -->
            <filter>
                <property value="STATUS"/>
                <op value="="/>
                <value value="ACTIVE"/>
            </filter>
            <filter>
                <property value="CLASSTYPE"/>
                <op value="="/>
                <value value="1"/>
            </filter>
            <filter>
                <property value="ORDER_OBS"/>
                <op value="="/>
                <value value="Both"/>
            </filter>
            <filter>
                <property value="CLASS"/>
                <op value="regex"/>
                <value value="CYTO|HEM/BC|HL7\.CYTOGEN|HL7\.GENETICS|PATH|^(?!MOLPATH.*$).*"/>
            </filter>
        </include>
    </compose>    
</ValueSet>